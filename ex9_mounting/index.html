<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>First Component</title>
  </head>
  <body>
    <!-- container node -->
    <div id="app"></div>

    <script src="http://fb.me/react-0.11.1.js" type="text/javascript"></script>
    <script src="http://fb.me/JSXTransformer-0.11.1.js" type="text/javascript"></script>
    <script src="https://code.jquery.com/jquery-2.1.1.min.js" type="text/javascript"></script>

    <script type="text/jsx">
      /** @jsx React.DOM */

      var Dashboard = React.createClass({

        loadData: function() {
          return $.get('https://reactjs-ex9.firebaseio.com/' + this.props.url + '/.json');
        },

        componentWillMount: function() {
          debugger;
          this.loadData().then(function(data) {
            this.setState({
              metric:data
            });
          }.bind(this));
        },

        componentDidMount: function() {
          debugger;
        },

        getInitialState: function() {
          return {
            metric: 0
          };
        },

        render: function() {
          return (
            <div className="jumbotron">
              <h2>{this.state.metric}</h2>
            </div>
          );
        }
      });

      var dashComponent = React.renderComponent(
        <Dashboard url="metric" />,
        document.getElementById('app')
      );


    </script>
  </body>
</html>
